<!DOCTYPE html>
<html>
<head>
    <title>Can - Basic Object & Rotate Demo</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" rel="stylesheet" href="styles/global.css" />
    <style type="text/css">
body    {background: black;}
    </style>
    <script type="text/javascript" src="scripts/can.js"></script>
    <script type="text/javascript"><!--
var test = function () {
    stage.fitWindow();
    stage.add(can.rect({x:10, y:10, width:10, height:10, fill:"red"}));
    stage.add(can.text({str:"[Click to Spin]", x:10, y:14, maxWidth:150, size:20, fill:"white"}));
    var w = can.text({str:"a involved test of text wrapping for demo purposes", wrap:true, x:160, y:10, maxWidth:200, size:10, fill:"blue"});
    stage.add(w);
    stage.add(can.rect({x:10, y:40, width:100, height:10, stroke:"green", lineWidth:4}));
    stage.add(can.rect({x:150, y:40, width:50, height:50, fill:"blue", radius:10}));
    stage.add(can.text({str:"T", x:160, y:47, width:200, height:40, stroke:"black", lineWidth:1, size: 40}));
    stage.add(can.image({image:"images/bg.jpg", x:110, y:100, width:200, height:200}));
    stage.add(can.line({x:100, y:80, x2:10, y2:170, style:"white", lineWidth:4}));
    stage.add(can.oval({x:205, y:40, width:45, height:35, stroke:"green", lineWidth:4}));
    stage.add(can.oval({x:220, y:50, width:15, fill:"blue"}));
    stage.add(can.arc({x:280, y:40, r:25, start:0, end:Math.PI, stroke:"red", lineWidth:5}));
    stage.add(can.arc({x:290, y:50, r:15, start:Math.PI, end:1.5*Math.PI, fill:"red"}));
    stage.draw();

    var id = 0;
    var back = can.rect({x:0, y:0, width:stage.width(), height:stage.height(), fill:"black"});
    stage.add(back);
    back.sendToBack();
    back.on("click", function () {
        if (id == 0) {
            id = setInterval(function () {
                for (var i=1;i<stage.cans.length;i++) {
                    stage.cans[i].rotateBy(1/16);
                }
                stage.draw();
            }, 1000/60);
        } else {
            clearInterval(id);
            id = 0;
        }
    });

    w.on("click", function () {alert(this.height);});
}

window.addEventListener("load", function () {
    stage = can.stage(document.getElementsByTagName("canvas")[0]);
    test();
}, false);
    --></script>
</head>
<body>
    <canvas></canvas>
</body>
</html>
